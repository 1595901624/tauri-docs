---
import TreeNode from './TreeNode.astro'
import type { TreeNode as TreeNodeType } from '@src/utils'

interface Props {
  tree: TreeNodeType
  // Will be appended to the beginning of a slug
  baseUrl?: string
  // Takes into account full slug
  maxDepth?: number
}

let { tree, baseUrl, maxDepth } = Astro.props
---

<ul>
  {
    Object.entries(tree)
      .filter(([_, value]) => value.hasOwnProperty('_metadata'))
      .map(([_, object]) => <TreeNode node={object} baseUrl={baseUrl} />)
  }
</ul>
